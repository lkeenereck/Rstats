---
title: "Notes_FunctionsandCommands"
output: html_notebook
---

LEARNING BASIC FUNCTIONS IN R
* References: http://mosaic-web.org/go/Master-Starting.pdf and https://campus.datacamp.com/courses/writing-functions-in-r/a-quick-refresher?ex=1 *

Functions:

In R, functions are extremely important. Every command that you run is probably a set of functions that someone else created for you to use. Every package is jammed full of tons of functions that we are able to call with a simple command. 

Basically, using and creating functions comes down to two questions: 
1) What do we want the computer to do? -> Tells us which function to use
2) What information does the  computer need to compute this? -> Tells us which arguments we should use


 Here are some examples of built-in functions you may have used before in R:
```{r}
##### Basic calculating functions

sum(6:8)

mean(1:10)

log(16)

sqrt(36)

###### Plotting functions

## Plot info from a sample data set in R: trees
head(trees)

hist(trees$Height,xlab="Tree Height")

## Plot your own graph
plot(x=c(1,2,3,4,5),y=c(2,4,6,8,10),xlab="x values",ylab="y values",pch=8)

###### Statistical functions

## t-test

z<-rnorm(15)
a<-rnorm(15)
t.test(z,a)
# p is greater than 0.5, so not significant

## smooth.spline (fits a cubic smooth line to noisy curves)

peak1.standard<-read.csv("Peak1.csv")
# An example of VERY noisy data - unfortunately from my own data 
plot(peak1.standard$Wavelength,peak1.standard$mAU,xlim=c(350,800), type="l", pch=1,cex=0.6,las=TRUE, 
     ylab="Intensity (mAU)",ylim=c(0,110),xlab="Wavelength (nm)")
# Let's use the smooth.spline function to smooth this line out.
smooth.peak1.standard<-smooth.spline(peak1.standard$Wavelength, peak1.standard$mAU)
# Now plot the smooth line over the noisy line to see how well it fits
plot(peak1.standard$Wavelength,peak1.standard$mAU,xlim=c(350,800), type="l", pch=1,cex=0.6,las=TRUE, 
     ylab="Intensity (mAU)",ylim=c(0,110),xlab="Wavelength (nm)")
lines(smooth.peak1.standard)


# Remember, these look like simple commands but they are actually functions that have been built into the software for us. Thanks, R! 
```


Luckily, R isn't too selfish, and it lets you make functions too so let's give it a shot! 

*----------------------------------------------------------------------------------------------------------

Writing functions! 

This will be useful to you at some point when you need to make a specific function for data analysis.

In R, there is a basic format for writing a function:

**
function<-functionname(argument1,argument2){body of function}
**
There are three components to this command:
1) formal arguments (in parentheses)
2) body {in squiqqly brackets}
3) environment - where the function information is stored

When you run a function, R will always return the last statement of the command, which will be your {body}
Make sure you use the {} brackets when writing the body of a function

Try creating a basic function for practice: 
```{r}
fun_function<-function(x,y=5){x*y}

# Let's look at the components (formal arguments, body, and environment) of this function:
formals(fun_function)
body(fun_function)
environment(fun_function)
# Remember, every function is made up of these three basic components.

# Let's run this function now
fun_function(3)
# This is telling us that our "x" value is 3, and we know that y=3 and the body is {x*y}
# So, the output should be 15. Yay!
```

Now, let's try something more complicated.
```{r}
absolutely<-function(x){if(x<0){-x}else{x}}

# This code tells us that if an x value is less than 1, then this negative value should be converted to positive
# AKA an absolute value function

# Try it!
absolutely(-7)
absolutely(28)
```

In R, functions are objects. They can be modified and changed just like any object. 

